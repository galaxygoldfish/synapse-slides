<!DOCTYPE html>
<html lang="en" data-bs-theme="dark"> <!-- Added data-bs-theme="dark" for Bootstrap's dark mode base -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MindFruit Interface</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <!-- Custom CSS (after Bootstrap to override) -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container mt-4 mb-5">
        <header class="text-center py-4 mb-4">
            <h1 class="display-4 main-title">MindFruit Interface</h1>
            <p class="lead subtitle-text">Real-time Neural Command with Muse TM</p>
        </header>

        <div class="row justify-content-center mb-4">
            <div class="col-md-8 col-lg-6 text-center">
                <div class="btn-group" role="group" aria-label="Control Buttons">
                    <button id="startButton" type="button" class="btn btn-lg btn-primary-custom">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-play-circle-fill me-2" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M6.79 5.093A.5.5 0 0 0 6 5.5v5a.5.5 0 0 0 .79.407l3.5-2.5a.5.5 0 0 0 0-.814z"/></svg>
                        START DETECTION
                    </button>
                    <button id="stopButton" type="button" class="btn btn-lg btn-danger-custom" disabled>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-stop-circle-fill me-2" viewBox="0 0 16 16"><path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M6.5 5A1.5 1.5 0 0 0 5 6.5v3A1.5 1.5 0 0 0 6.5 11h3A1.5 1.5 0 0 0 11 9.5v-3A1.5 1.5 0 0 0 9.5 5z"/></svg>
                        STOP DETECTION
                    </button>
                </div>
            </div>
        </div>

        <div class="row g-4">
            <!-- Status Panel -->
            <div class="col-lg-6">
                <div class="card futuristic-card h-100">
                    <div class="card-header futuristic-card-header">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-activity me-2" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M6 2a.5.5 0 0 1 .47.33L10 12.036l1.53-4.208A.5.5 0 0 1 12 7.5h3.5a.5.5 0 0 1 0 1h-3.15l-1.88 5.17a.5.5 0 0 1-.94 0L6 3.964 4.47 8.171A.5.5 0 0 1 4 8.5H.5a.5.5 0 0 1 0-1h3.15l1.88-5.17A.5.5 0 0 1 6 2Z"/></svg>
                        SYSTEM STATUS
                    </div>
                    <div class="card-body">
                        <div id="statusMessages" class="log-box">
                            <p class="text-muted">Welcome. Click START to begin testing</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Blink Events Panel -->
            <div class="col-lg-6">
                <div class="card futuristic-card h-100">
                    <div class="card-header futuristic-card-header">
                         <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-eye-fill me-2" viewBox="0 0 16 16"><path d="M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0"/><path d="M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8m8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7"/></svg>
                        DETECTED BLINK EVENTS
                    </div>
                    <div class="card-body">
                        <div id="blinkEvents" class="log-box">
                            <p class="text-muted">Blink commands will appear here.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card futuristic-card mt-4">
            <div class="card-header futuristic-card-header">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-diagram-3-fill me-2" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M6 3.5A1.5 1.5 0 0 1 7.5 2h1A1.5 1.5 0 0 1 10 3.5v1A1.5 1.5 0 0 1 8.5 6v1H14a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0v-1A.5.5 0 0 1 2 7h5.5V6A1.5 1.5 0 0 1 6 4.5zM8.5 7V6h-1v1zM5 10.5A1.5 1.5 0 0 1 6.5 9h3A1.5 1.5 0 0 1 11 10.5v1A1.5 1.5 0 0 1 9.5 13h-3A1.5 1.5 0 0 1 5 11.5z"/></svg>
                ACTION MAPPING
            </div>
            <div class="card-body">
                <ul class="list-unstyled">
                    <li><strong class="text-primary-custom">Single Blink:</strong> Right Arrow (Next Slide / Seek Forward)</li>
                    <li><strong class="text-secondary-custom">Double Blink (quick succession):</strong> Play/Pause Media</li>
                </ul>
            </div>
        </div>

        <div class="row g-4 mt-3">
            <h2 class="text-center section-title">SESSION VISUALIZATIONS</h2>
            <!-- Plot 1 Area -->
            <div class="col-md-6">
                <div class="card futuristic-card plot-card">
                    <div class="card-header futuristic-card-header">Full Spectrum Analysis</div>
                    <div class="card-body text-center">
                        <p id="plot1Placeholder" class="text-muted">Plot 1: All Data (Time & Frequency) will appear here.</p>
                        <img id="plot1Image" src="#" alt="All Data Plot" class="img-fluid rounded plot-image" style="display:none;">
                    </div>
                </div>
            </div>
            <!-- Plot 2 Area -->
            <div class="col-md-6">
                <div class="card futuristic-card plot-card">
                    <div class="card-header futuristic-card-header">Blink Event Signatures</div>
                    <div class="card-body text-center">
                        <p id="plot2Placeholder" class="text-muted">Plot 2: Blink-Selected Data will appear here.</p>
                        <img id="plot2Image" src="#" alt="Blink Selected Plot" class="img-fluid rounded plot-image" style="display:none;">
                    </div>
                </div>
            </div>
        </div>

        <footer class="text-center text-muted py-4 mt-5">
            <p>Â© 2025 MindFruit Interface. All rights reserved.</p>
        </footer>
    </div>

    <!-- Bootstrap JS Bundle (Popper.js and Bootstrap JS) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <!-- Socket.IO -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js"></script>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>